<template>
  <div style="padding: 20px; border: 1px solid #00bcd4; margin-top: 20px;">
    
    <h2>ğŸ›ï¸ å•†å“åˆ—è¡¨</h2>
    
    <div style="background: #e0f7fa; padding: 10px; margin-bottom: 15px;">
        <p>å½“å‰ç­›é€‰ç±»åˆ« (Category): 
            <strong style="color: #00838f;">{{ currentCategory }}</strong>
        </p>
        <p>å½“å‰æ’åºæ–¹å¼ (Sort): 
            <strong style="color: #00838f;">{{ currentSort }}</strong>
        </p>
    </div>

    <p v-if="currentCategory === 'tech'" style="font-weight: bold;">
        ğŸ’» æ˜¾ç¤ºï¼šç¬”è®°æœ¬ç”µè„‘ã€æ‰‹æœºç­‰ç§‘æŠ€äº§å“...
    </p>
    <p v-else-if="currentCategory === 'home'" style="font-weight: bold;">
        ğŸ›‹ï¸ æ˜¾ç¤ºï¼šæ²™å‘ã€é¤æ¡Œç­‰å®¶å±…äº§å“...
    </p>
    <p v-else style="font-style: italic;">
        ğŸŒ æ˜¾ç¤ºï¼šæ‰€æœ‰ç±»åˆ«äº§å“...
    </p>

    <p style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 10px;">
        æ•°æ®å·²æŒ‰ **{{ currentSort === 'price' ? 'ä»·æ ¼' : 'åç§°' }}** è¿›è¡Œæ’åºã€‚
    </p>

  </div>
</template>

<script>
export default {
    computed: {
        // è®¿é—®æŸ¥è¯¢å‚æ•°ï¼š$route.query
        currentCategory() {
            // å¦‚æœ URL ä¸­æ²¡æœ‰ ?category=xxxï¼Œåˆ™è¿”å› 'all'
            return this.$route.query.category || 'all'; 
        },
        currentSort() {
            // å¦‚æœ URL ä¸­æ²¡æœ‰ ?sort=xxxï¼Œåˆ™è¿”å› 'name'
            return this.$route.query.sort || 'name'; 
        }
    },
    watch: {
        // ç›‘å¬ $route.query çš„å˜åŒ–ï¼Œåœ¨ç»„ä»¶ä¸é”€æ¯çš„æƒ…å†µä¸‹æ›´æ–°æ•°æ®
        '$route.query'(newQuery, oldQuery) {
            console.log(`æŸ¥è¯¢å‚æ•°å·²å˜åŒ–ï¼Œä» ${oldQuery.category} å˜ä¸º ${newQuery.category}ï¼Œé‡æ–°è·å–å•†å“æ•°æ®ã€‚`);
            // çœŸå®é¡¹ç›®ä¸­ï¼Œåœ¨è¿™é‡Œè°ƒç”¨ API é‡æ–°è¯·æ±‚æ•°æ®
        }
    }
}
</script>